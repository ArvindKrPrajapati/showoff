<section class="main">
  <main class="header mat-elevation-z3">
    <a [routerLink]="['/profile',mydata.userid]" [state]="{refresh:false}" mat-icon-button>
      <svg width="11px" height="20px" viewBox="0 0 11 20">
        <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="Rounded" transform="translate(-548.000000, -3434.000000)">
            <g id="Navigation" transform="translate(100.000000, 3378.000000)">
              <g id="-Round-/-Navigation-/-arrow_back_ios" transform="translate(442.000000, 54.000000)">
                <g>
                  <polygon id="Path" opacity="0.87" points="0 0 24 0 24 24 0 24"></polygon>
                  <path d="M16.62,2.99 C16.13,2.5 15.34,2.5 14.85,2.99 L6.54,11.3 C6.15,11.69 6.15,12.32 6.54,12.71 L14.85,21.02 C15.34,21.51 16.13,21.51 16.62,21.02 C17.11,20.53 17.11,19.74 16.62,19.25 L9.38,12 L16.63,4.75 C17.11,4.27 17.11,3.47 16.62,2.99 Z" id="ðŸ”¹-Icon-Color" fill="#1D1D1D"></path>
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </a>
    <b>&nbsp;  settings</b>
  </main>
  <main class="content">
    <table>
      <tr>
        <td width="65px">
          <img src="api/image/{{mydata.image}}" class="dp" />
        </td>
        <td>
          <p class="font">
            {{mydata.name}} (you)
          </p>
        </td>
        <td>
          <button mat-button color="warn" (click)="logout()">logout</button>
        </td>
      </tr>
    </table>
    <br>
    <div style="padding:7px;">
      <p class="heading">
        Change Name
      </p>
      <input type="text" placeholder="New Name" [(ngModel)]="newName" />
      <p class="heading">
        Change Mobile
      </p>
      <input type="number" placeholder="New Mobile" [(ngModel)]="newMobile" />
      <p class="error">
        {{error}}
      </p>
      <div style="float:right;">
        <small *ngIf="updatingDetails"> updating....</small>
        <button *ngIf="!updatingDetails" mat-button  (click)="changeDetails()" [disabled]="updatingPass || deleting">
          <svg width="18px" height="13px" viewBox="0 0 18 13">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g transform="translate(-443.000000, -248.000000)">
                <g transform="translate(100.000000, 100.000000)">
                  <g transform="translate(340.000000, 142.000000)">
                    <g transform="translate(0.000000, 0.000000)">
                      <polygon points="0 0 24 0 24 24 0 24"></polygon>
                      <path d="M9,16.2 L5.5,12.7 C5.11,12.31 4.49,12.31 4.1,12.7 C3.71,13.09 3.71,13.71 4.1,14.1 L8.29,18.29 C8.68,18.68 9.31,18.68 9.7,18.29 L20.3,7.7 C20.69,7.31 20.69,6.69 20.3,6.3 C19.91,5.91 19.29,5.91 18.9,6.3 L9,16.2 Z" id="ðŸ”¹Icon-Color" fill="#1D1D1D"></path>
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </svg>
          update name and mobile</button>
      </div>
      <br><br><br>
    </div>
    <mat-divider></mat-divider>
    <br>
    <div style="padding:7px;">
      <p class="heading">
        Change Password
      </p>
      <input type="password" placeholder="old Password" [(ngModel)]="oldP" />
      <input type="password" placeholder="New Password" [(ngModel)]="newP" />
      <div class="error">
        {{errorP}}
      </div>
      <div class="error" style="color:green;">
        {{success}}
      </div>
      <div style="float:right;">
        <small *ngIf="updatingPass">updating....</small>
        <button *ngIf="!updatingPass" mat-button style="float:right; " (click)="changePassword()" [disabled]="updatingDetails || deleting">
          <svg width="18px" height="13px" viewBox="0 0 18 13">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g transform="translate(-443.000000, -248.000000)">
                <g transform="translate(100.000000, 100.000000)">
                  <g transform="translate(340.000000, 142.000000)">
                    <g transform="translate(0.000000, 0.000000)">
                      <polygon points="0 0 24 0 24 24 0 24"></polygon>
                      <path d="M9,16.2 L5.5,12.7 C5.11,12.31 4.49,12.31 4.1,12.7 C3.71,13.09 3.71,13.71 4.1,14.1 L8.29,18.29 C8.68,18.68 9.31,18.68 9.7,18.29 L20.3,7.7 C20.69,7.31 20.69,6.69 20.3,6.3 C19.91,5.91 19.29,5.91 18.9,6.3 L9,16.2 Z" id="ðŸ”¹Icon-Color" fill="#1D1D1D"></path>
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </svg> 
          update passward</button>
      </div>
      <br><br><br>
    </div>
    <mat-divider></mat-divider>
    <br>
    <div class="delete">
      <p>
        we are sorry for the inconvenience caused that you are willing to Delete your Account . Deleting Account will remove your presence from showOff
      </p>
      <button *ngIf="!deleting" mat-button color="warn" style="width:100%;" (click)="deleteAccount()" [disabled]="updatingDetails || updatingPass">Delete Account</button>
      <small *ngIf="deleting"><b>Deleting.....</b></small>
    </div>
  </main>
  <br>
</section>